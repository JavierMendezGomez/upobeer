<!DOCTYPE html>
<html>
<head>
	<title>UpoBeer - Inicio</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link type="text/css" rel="stylesheet" href="css/style.css">
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	<!-- Fuentes -->
	<link href="https://fonts.googleapis.com/css?family=Galada|Lobster|Pacifico|Playball&display=swap" rel="stylesheet">
</head>
<body>


<!--COPIADO Y PEGADO DE upobeer, REVISAR BIEN TODO-->

<div class="container-fluid" id="upobeer_main">
			
	<center>
		<div class="cabeceraInicio">
				<header>
					<a id="logoInicio" href="#"><img src="Img/logo2.png" class="logo"></a>
					<div class="titulos">
					<div class="titulo d-none d-lg-block">UpoBeer</div>
						<div class="subtitulo d-none d-sm-block">Compra-venta de cerveza</div>
					</div>
				</header>
		</div>

		<div id="inicio" class="row section">
			<div class="col-12">
				<b>Introduzca sus datos para iniciar sesión en nuestro sistema</b><br><br>
				<table cellpadding="10">
				<form name="formularioInicio">
					<tr><td>
				        <label>Introduzca su usuario:	</label>
				    </td><td>
				        <input name="usuario" type="text" value="">
				    </td></tr>
				    <tr><td>
				        <label>Introduzca su contraseña: </label>
				    </td><td>
				        <input name="clave" type="password" value="">
				    </td></tr>
				    <tr><td colspan="2" style="text-align: center">
				        <input name="botonComprobar" type="button" value="Entrar" onclick="comprobarUsuario();"><br>
					</td></tr>
			    </form>
				</table><br>
			    <a id="enlaceRegistro" href="#">¿No tienes cuenta? Regístrate</a>
			</div>
		</div>

		<div id="registro" class="row section">
			<div class="col-12">
				<b>Introduzca sus datos para registrarse en nuestro sistema como cliente</b><br><br>
				<table cellpadding="12">
					<tbody>
						<form name="formularioRegistro">
						<tr>
							<td>
								<label>Usuario:	</label>
							</td><td>
								<input name="usuario" type="text" value="">
							</td>
							<td>
								<label>DNI:	<em>(clave)</em></label>
							</td><td>
								<input name="dni" type="text" value="">
							</td>
						</tr>
						<tr>
							<td>
								<label>Nombre:	</label>
							</td><td>
								<input name="nombre" type="text" value="">
							</td>
							<td>
								<label>Apellidos:	</label>
							</td><td>
								<input name="apellidos" type="text" value="">
							</td>
						</tr>
						<tr>
							<td>
								<label>Fecha de nacimiento:	</label>
							</td><td>
								<input name="fecha" type="date" value="">
							</td>
							<td>
								<label>Dirección:	</label>
							</td><td>
								<input name="direccion" type="text" value="">
							</td>
						</tr>
						<tr>
							<td>
								<label>Teléfono:	</label>
							</td><td>
								<input name="telefono" type="text" value="">
							</td>
							<td colspan="2" style="text-align: center">
								<input name="botonRegistrar" type="button" value="Registrarse" onclick="comprobarRegistro();">
							</td>
						</tr>
						</form>
					</tbody>
				</table>
			</div>
		</div>

	</center>
		
			<script src="js/controlador.js"></script>
		<!--Ocultar/mostrar opciones del tipo de vehículo-->
		<script>


			//INICIALIZAR MODELO
			var controlador = new Controlador();
			document.getElementById("registro").style.display = "none";
			document.getElementById("enlaceRegistro").addEventListener("click", showRegistro);
			document.getElementById("logoInicio").addEventListener("click", showInicio);

			function showRegistro(){ 
				setTimeout(function(){document.getElementById("registro").style.display = "inline";}, 1000);
				setTimeout(function(){document.getElementById("inicio").style.display = "none";}, 1000);
			}

			function showInicio(){ 
				setTimeout(function(){document.getElementById("registro").style.display = "none";}, 1000);
				setTimeout(function(){document.getElementById("inicio").style.display = "inline";}, 1000);
			}

			//Datos de ejemplo
			controlador.altaCliente("user1","11111111A","Cliente1","Ap","1997-08-12","C/Mesina","111111111");
			controlador.altaCliente("user2","11111111B","Cliente2","Ap","1993-04-16","C/Mesina","111111111");
			controlador.altaCliente("user3","11111111C","Cliente2","Ap","1994-09-22","C/Mesina","111111111");
			controlador.altaOperario("user4","11111111D","Operario1","Ap","1997-08-12","C/Mesina","111111111",true);
			controlador.altaOperario("user5","11111111E","Operario2","Ap","1997-08-12","C/Mesina","111111111",false);


			function comprobarUsuario(){

				var usuario = formularioInicio.usuario.value;
				var clave = formularioInicio.clave.value;
				console.log(usuario + ", " + clave);
				this.controlador.comprobarUsuario(usuario,clave);
				alert("Usuario tipo: " + tipo);
				if(tipo != "ninguno")
					setTimeout(function(){alert("Estas dentro");},2000);
			}

			function comprobarRegistro(){

				var usuarioNuevo = formularioRegistro.usuario.value;
				var dni = formularioRegistro.dni.value;
				var nombre = formularioRegistro.nombre.value;
				var apellidos = formularioRegistro.apellidos.value;
				var fecha = formularioRegistro.fecha.value;
				var direccion = formularioRegistro.direccion.value;
				var telefono = formularioRegistro.telefono.value;
				if(usuarioNuevo==""||dni==""||nombre==""||apellidos==""||fecha==""||direccion==""||telefono=="")
					alert("Debe rellenar todos los campos");
				else if(this.controlador.comprobarRegistro(usuarioNuevo,dni,nombre,apellidos,fecha,direccion,telefono))
				{
					alert("Registrado ok");
					setTimeout(function(){alert("Estas dentro como cliente");}, 2000);
				}
				else
					alert("Error, ya existe ese dni");
			}

		</script>
	</div>

</body>
</html>